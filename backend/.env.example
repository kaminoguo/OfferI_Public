# OfferI Backend Environment Variables
# Copy this file to .env and fill in your values

# ============================================
# LiteLLM Proxy Configuration
# ============================================
# LiteLLM proxy URL (start with: litellm --config litellm_config.yaml --port 4000)
ANTHROPIC_BASE_URL=http://localhost:4000
ANTHROPIC_AUTH_TOKEN=sk-1234  # Any dummy value works with LiteLLM

# ============================================
# Model Selection (Two-Stage Pipeline)
# ============================================
# Stage 1: Primary model for analysis with MCP tools
# Recommended: openai/o3-mini (cheap, fast)
PRIMARY_MODEL=o3-mini-analysis

# Stage 2: Review model for expert validation (no tools)
# Recommended: openai/gpt-5-pro (best quality)
REVIEW_MODEL=gpt5-review

# ============================================
# OpenRouter API Key
# ============================================
# Sign up at https://openrouter.ai/ to get your API key
# This key is used by LiteLLM to access 400+ models
OPENROUTER_API_KEY=sk-or-v1-xxxxx

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
# REDIS_PASSWORD=  # Optional, leave empty if no password

# ============================================
# MCP Server Configuration
# ============================================
MCP_CONFIG_PATH=/app/mcp/config.json
MCP_DB_PATH=/app/mcp/programs.db

# ============================================
# FastAPI Server Configuration
# ============================================
HOST=0.0.0.0
PORT=8000
DEBUG=false

# CORS: Add your frontend URLs (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,https://offeri.com

# ============================================
# Output Configuration
# ============================================
OUTPUT_DIR=/app/outputs
LOG_DIR=/app/logs

# ============================================
# Worker Configuration
# ============================================
NUM_WORKERS=3
WORKER_TIMEOUT=900  # 15 minutes per job

# ============================================
# Cleanup Configuration
# ============================================
# Delete old PDFs and jobs after N days
CLEANUP_DAYS=7

# ============================================
# Authentication & Payment
# ============================================
# Clerk Authentication
CLERK_SECRET_KEY=sk_test_xxxxx

# Stripe Payment
STRIPE_SECRET_KEY=sk_test_xxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxx

# ============================================
# Database Configuration
# ============================================
# PostgreSQL for user credits and transactions
DATABASE_URL=postgresql://user:password@localhost:5432/offeri
